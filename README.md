# ЛАБОРАТОРНАЯ РАБОТА №2

**Тема:** Разработка библиотеки и консольного приложения для анализа серии численных измерений  

---

## 1. Задание

Разработать:

- библиотеку **`series_core`**;

- консольное приложение **`series_cli`**,

реализующие работу с динамическими массивами численных измерений **без использования `std::vector` и других контейнеров STL**.

Программа должна:

- загружать серию измерений фиксированного размера;

- вычислять минимум, максимум и среднее;

- подсчитывать количество значений, превышающих заданный порог;

- выполнять простую нормализацию;

- корректно управлять динамической памятью;

- быть покрыта юнит-тестами.

---

## 2. Функциональные требования

---

### 2.1. Пространства имён и основные типы

Вся библиотека помещается в пространство имён `lab2::series`:

```cpp
namespace lab2::series
{
struct MeasurementSeries
{

};
} // namespace lab2::series
```



### 2.2. Функции библиотеки

Все функции объявляются в `series.hpp` и реализуются в `series.cpp`.

**Требования:**

- Выделяется динамическая память;
- Корректно освобождается память;
- функции анализа не модифицируют данные;

### 2.3. Консольное приложение `series_cli`

Приложение должно предоставлять простое меню команд.

#### Команды

```
series_cli load N
series_cli print
series_cli stats
series_cli greater THRESHOLD
series_cli shift DELTA
series_cli normalize
series_cli filter THRESHOLD
```

#### Описание команд

| Команда | Действие |
|---------|----------|
| `load N` | Создать серию размером N и считать N чисел из stdin |
| `print` | Вывести все числа одной строкой |
| `stats` | Вывести минимум, максимум и среднее |
| `greater THRESHOLD` | Вывести количество значений > порога |
| `shift DELTA` | Прибавить DELTA ко всем элементам |
| `normalize` | Нормализовать значения: (x − mean) / stddev |
| `filter THRESHOLD` | Создать новую серию с элементами > порога и вывести её |

#### Примеры

```
$ series_cli load 5
1 2 3 4 5

$ series_cli stats
min=1 max=5 mean=3

$ series_cli greater 3
2

$ series_cli shift -1

$ series_cli print
0 1 2 3 4

$ series_cli filter 2
3 4
```

#### Ошибки

- некорректные аргументы команд → краткое сообщение и ненулевой exit code;
- ошибки чтения данных → сообщение и ненулевой exit code;
- отсутствие загруженной серии → сообщение об ошибке;
- никаких исключений и Undefined Behaviour.

---

## 3. Ограничения

- Запрещено использование контейнеров STL;
- Максимальный размер серии условно не ограниченный (возможностями вашей системы);

---

## 4. Подсказки

<details>
<summary><b>Раскрывать только после завершения ЛР для самопроверки!</b></summary>

### Структура проекта

- `.hpp` — только объявления;
- `.cpp` — определения;
- отдельная библиотека `series_core`;
- отдельное приложение `series_cli`.

### Технические моменты

- `#pragma once`;
- аккуратная работа с динамической памятью;
- проверка `size == 0`;
- передавать неизменяемые данные по `const&`.

### Что изучить дополнительно

- базовые идеи RVO и возврата по значению;
- обработка аргументов `argc/argv`;
- чтение чисел из `stdin` (`std::cin`).

</details>
